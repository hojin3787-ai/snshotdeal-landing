# 화면설계 작성 가이드

## 🚦 시작하기 (대화형 · 섹션 게이트 + Gate A)
- 한 번에 한 섹션만 작성합니다. 승인 키워드: 섹션 제목로 승인 (예: "사용자 흐름 섹션 진행해").
- 섹션 7(Lo-fi 와이어프레임) 도달 시, 링크 없이는 이후 섹션(8~12)을 작성하지 않습니다.
- 수치/제한은 본 문서에 적지 않습니다(서비스정책 참조 링크만 기재).
- 본문에서는 예시를 제외합니다. 예시는 `guide/sample/04-화면설계-예시.md`를 참고하세요.

## 📌 이 문서는 왜 필요한가요?

화면설계는 **사용자 흐름, 화면 구조, Lo-fi 와이어프레임**을 정의하는 문서입니다.
"사용자가 어떻게 행동하는가"를 시각화하고, 개발과 디자인의 기준이 됩니다.

**언제 작성하나요?**
- PRD 승인 후
- 서비스정책 초안 완료 후

**누가 작성하나요?**
- UX Designer + PM

**작성 시간**
- 읽는 시간: 30~45분
- 작성 시간: 3-5일

---

## 📝 섹션별 작성 가이드 (요약)

### 1. 목적 & 범위

**Q. 이번 릴리스에 포함/제외할 화면은?**


---

### 2. 사용자 흐름

**Q. 핵심 목표 달성 흐름 5-10개는?**

**사용자 흐름이란?**
- 사용자가 **특정 목표를 달성하기 위해 거치는 단계별 경로**
- 시작점(진입) → 중간 단계 → 종료점(완료/이탈)으로 구성
- 정상 흐름만 작성 (예외/오류는 섹션 8에서)

**작성 원칙**:
1. **목표 중심**: 각 흐름은 명확한 사용자 목표가 있어야 함
2. **간결한 테이블**: # | 흐름명 | 개요 | 상세 보기 (4컬럼)
3. **흐름명 간소화**: 핵심 키워드만 (예: "콘텐츠 참여(두뇌 퀴즈)" → "두뇌 퀴즈")
4. **개요 작성**: 핵심 단계를 3-4단계로 요약 (A → B → C 형식)
   - 플로우차트의 subgraph 단계와 유사하게 작성
   - 예: "콘텐츠 진입 → 레벨별 플레이 → 보상 및 종료"
5. **그룹핑**: 테이블 내에서 기능별로 그룹 헤더 사용 (예: `| **회원가입** |`)
6. **핵심만**: 5-10개 핵심 흐름 (모든 경로 X)
7. **별도 파일**: 각 흐름은 `outputs/design/user_flow/` 폴더에 개별 파일로 작성
8. **Mermaid 다이어그램**: 시각화를 위해 플로우차트 사용 (AI가 작성)


**작성 팁** (요약):
- ✅ **흐름명**: 짧고 명확하게 (예: "출석 체크", "두뇌 퀴즈")
- ✅ **개요**: 핵심 3-4단계만 (예: "진입 → 플레이 → 보상")
- ✅ 그룹 헤더로 구분: `| **그룹명** |` 형식
- ✅ 그룹 구분 예시: 회원가입, 에너지 획득, 콘텐츠 참여, 경품&보상, 바이럴
- ✅ 사용자 관점에서 작성 ("홈 진입" X → "홈" O)
- ✅ 구체적 수치는 제외 (서비스 정책에서 관리)
- ✅ **플로우 파일은 플로우차트 중심**: 추가 섹션 최소화 (중복 방지)
- ✅ **서브그래프 활용**: 긴 흐름은 단계별로 그룹핑하여 가독성 향상
- ❌ 예외 분기는 여기서 X (섹션 7에서)
- ❌ 세부 UI 설명 X (섹션 5에서)

---

### 📊 Mermaid 플로우차트 작성 (AI 활용)

**플로우차트는 어떻게 만드나요?**
- **직접 작성 불가**: Mermaid 문법이 복잡하므로 AI(Cursor)에게 요청
- **서브그래프 활용**: 긴 흐름은 논리적 단계로 그룹핑
- **방향**: 항상 세로(TD, Top Down)

**AI에게 요청하는 방법**:

#### 1단계: 흐름을 단계별로 나누기
먼저 흐름을 논리적 단계로 나눕니다:
- 예: 가입 흐름 → 1) 가입 및 보상, 2) 초대 선택, 3) 권한 설정

#### 2단계: AI에게 명령하기
```
"[흐름명]을 Mermaid 플로우차트로 만들어줘.

서브그래프로 다음 단계로 나눠서:
1) [단계1 이름] - [포함 내용]
2) [단계2 이름] - [포함 내용]
3) [단계3 이름] - [포함 내용]

규칙:
- 각 서브그래프에 이모지 + 한글 제목
- 방향은 TD (세로)
- 서브그래프 사이 빈 줄 1개만
- 두 서브그래프를 연결하는 노드는 밖에 둬도 돼"
```


**포맷팅 규칙**:
- ✅ 서브그래프 사이 빈 줄 1개만
- ✅ 연결 노드는 서브그래프 밖에 둘 수 있음
- ✅ 이모지는 시각적 구분용
- ❌ 구체적 수치는 플로우에 넣지 않음

---

**선정 기준**:
- 핵심 가치 제공 흐름 (가입, 충전, 콘텐츠)
- 수익 전환 흐름 (구매, 응모)
- 일일 반복 흐름 (출석, 충전)
- 권한 요청 흐름 (온보딩, 기능별)
- 사용자가 자주 거치는 경로

---

### 3. 공통 레이아웃

**Q. 글로벌 헤더, 바텀 네비게이션 등 공통 요소는?**

**공통 레이아웃이란?**
- 여러 화면에서 **반복적으로 나타나는 UI 요소**
- 글로벌 헤더, 바텀 네비게이션 등
- 각 요소별로 표시 위치, 구성, 동작, 표시 화면을 명시

**작성 팁**:
- ✅ 구성 요소별 상세 스펙 작성
- ✅ 표시/미표시 조건을 명시
- ❌ 디자인 상세(색상/폰트)는 X (섹션 5에서)

---

### 4. 화면 목록

**Q. 모든 화면의 라우트와 개요는?**

**표 형식**:

| # | 화면명 | 라우트 | 개요 | 화면정의 |
|---|---|---|---|---|
| **온보딩** |
| 1 | 스플래시 | /splash | 앱 시작 시 로고 표시 | |
| 2 | 로그인 | /login | 카카오 간편 로그인 | |
| **홈 탭** |
| 3 | 홈 | /home | 메인 허브, 충전 상태 확인 | [📄](screens/home.md) |
| **콘텐츠 탭** |
| 4 | 콘텐츠 목록 | /content | 콘텐츠 탐색 및 선택 | |
| 5 | 명언 뽑기 | /content/quote | 진입 → 결과 및 공유 | |
| 6 | 카드 뒤집기 | /content/card | 온보딩 → 게임 → 결과 | |

**화면 정의 기준**:
- **UI 컨테이너 기준**: 한 페이지 내 상태 전환(탭/fragment)은 하나의 화면으로 정의
  - 예: 콘텐츠 게임의 온보딩/플레이/결과는 한 화면 (`/content/card`)
  - 개요에 상태 흐름 명시: "온보딩 → 게임 → 결과"
- **별도 라우트 필요 시**: 딥링크, 공유, 북마크가 필요한 경우만 별도 화면으로 분리
  - 예: 회차 히스토리 (`/draw/:goods_id`), 상품 상세 (`/store/:sku`)

**작성 팁**:
- **라우트가 있는 화면만** 나열 (모달/팝업은 제외 → 섹션 7에서 설명)
- **개요**: 화면의 핵심 목적을 1문장으로 요약, 또는 상태 흐름을 화살표로 표시
- **그룹핑**: `| **그룹명** |` 형식으로 구분
- **번호**: 전체 화면에 일련번호 부여 (탐색 용이)
- **"화면정의" 컬럼**: 섹션 5 작성 시 링크 추가 (초기 비워둠)

**라우트 설계 원칙**:
- ✅ **UI 컨테이너 기준**: 한 페이지 내 상태는 한 라우트
  - 예: `/content/card` (온보딩/게임/결과 모두 포함)
- ✅ **별도 URL 필요 시**: 공유/딥링크가 필요한 경우만 분리
  - 예: `/draw/:goods_id` (특정 상품 페이지 공유)
- ⚠️ **동적 파라미터**: 리소스별로 다른 내용을 보여줄 때
  - 예: `/store/:sku` (상품별 상세 페이지)

---

### 5. 화면정의

**Q. 각 화면정의를 어디서 관리하나?**

- 각 화면정의는 `outputs/docs/screens/` 폴더에 개별 파일로 생성합니다.
- 화면정의 작성 후, **섹션 4 화면 목록 테이블의 "화면정의" 컬럼에 링크를 추가**합니다.
- 글로벌 헤더, 바텀 네비게이션, 플로팅 버튼 등

**작성 원칙**:
1. **위치 명시**: 어디에 표시되는지
2. **구성 요소**: 어떤 요소들이 있는지
3. **동작 정의**: 클릭 시 어떻게 동작하는지
4. **표시 조건**: 어느 화면에서 보이는지/숨겨지는지

**예시**:
```markdown
## 5. 공통 레이아웃

### 4.1 글로벌 헤더

**표시 위치**: 화면 최상단 우측

**구성**:
- 에너지 표시: [⚡ 아이콘] 123
- 포인트 표시: [🪙 아이콘] 1,234
- 구분: 에너지와 포인트 사이 간격

**동작**:
- 에너지 클릭 → `/mypage/energy` (에너지)
- 포인트 클릭 → `/mypage/point` (포인트 내역)

**표시 화면**:
- ✅ 표시: 홈, 콘텐츠 목록, 응모센터, 상점, 내정보 (메인 탭 5개)
- ❌ 미표시: 온보딩, 콘텐츠 진행 중, 콘텐츠 결과, 상세 화면

### 4.2 페이지 타이틀

**표시 위치**: 화면 상단 (글로벌 헤더 아래)

**구성**:
- **타이틀**: 화면명 또는 앱 이름 (큰 글씨, 굵게)
- **서브타이틀**: 부가 설명 또는 슬로건 (작은 글씨)

**화면별 적용**:
- 홈: 타이틀(앱 이름) + 서브타이틀(슬로건)
- 기타 화면: 타이틀(화면명) + 서브타이틀(선택)

**표시 화면**:
- ✅ 표시: 대부분의 화면
- ❌ 미표시: 온보딩, 콘텐츠 진행 중 (필요시)

### 4.3 바텀 네비게이션

**표시 위치**: 화면 하단 고정

**구성** (5개 탭):
1. 홈 - `/home`
2. 콘텐츠 - `/content`
3. 응모센터 - `/draw`
4. 상점 - `/store`
5. 내정보 - `/mypage/profile`

**동작**:
- 탭 클릭 → 해당 메인 화면으로 이동
- 현재 탭 재클릭 → 최상단 스크롤
- 탭 전환 시 → 이전 화면 스택 초기화

**표시 화면**:
- ✅ 표시: 메인 탭 5개 화면
- ❌ 미표시: 온보딩, 콘텐츠 진행 중, 콘텐츠 결과, 모든 상세 화면

**선택 상태**:
- 현재 탭: 강조 표시 (색상, 아이콘 변경)
- 다른 탭: 기본 상태
```

**작성 팁**:
- ✅ 표시 위치를 명확히
- ✅ 클릭 동작을 구체적으로
- ✅ 표시/미표시 조건을 명시
- ❌ 디자인 상세(색상/폰트)는 X (섹션 5에서)

---

### 5. 화면정의

**Q. 각 화면정의를 어디서 관리하나?**

- 각 화면정의는 `outputs/docs/screens/` 폴더에 개별 파일로 생성합니다.
- 화면정의 작성 후, **섹션 4 화면 목록 테이블의 "화면정의" 컬럼에 링크를 추가**합니다.
- 템플릿은 `guide/sample/04-5-화면정의-템플릿.md`를 따릅니다.
- 우선순위: 핵심 화면 8–12개 먼저 정의 → 검토 → 나머지 확장.

---

#### 🎯 용어 정의 (핵심)

- **화면 (Screen)**: 고유한 라우트를 가진 단위 (예: `/content/card`)
- **상태 (State)**: 한 화면 내에서 다른 UI를 보여주는 단위 (예: onboarding, playing, result)
- **뷰 (View)**: 각 상태에서 보여지는 실제 UI 레이아웃 (와이어프레임으로 그려지는 단위)

**예시**:
```
📄 화면: /content/card (카드 뒤집기)
  ├─ 🔄 상태 1: onboarding
  │   └─ 📐 뷰: 온보딩 뷰 (게임 설명 + 시작 버튼)
  ├─ 🔄 상태 2: playing
  │   └─ 📐 뷰: 플레이 뷰 (카드 그리드 + 타이머)
  └─ 🔄 상태 3: result
      └─ 📐 뷰: 결과 뷰 (결과 + 포인트 + 버튼)
```

---

#### 📋 화면정의 구조

> **목적**: 와이어프레임 작성을 위한 UI 구조 정의(정책 수치/복잡한 흐름은 제외). 화면 내 "주요 상호작용/네비게이션"은 간단히 명시 가능.

##### 1. 화면 개요
- **화면명**: 화면 이름
- **라우트**: URL 경로
- **타이틀**: 화면에 표시될 타이틀 (앱 이름 또는 화면명)
- **서브타이틀**: 서브타이틀 문구 (슬로건 또는 설명, 선택)
- **목적**: 사용자가 이 화면에서 무엇을 할 수 있는지 (1문장)
- **진입점**: 어디서 오는가
- **이탈점**: 어디로 가는가
- **공통 레이아웃**:
  - 글로벌 헤더: 표시/미표시
  - 화면 타이틀: 표시/미표시
  - 바텀 네비게이션: 표시/미표시

##### 2. 화면 구성
- 화면 전체 레이아웃을 간결하게 나열
- 상단 → 하단 순서로 영역 나열
- 각 영역의 하위 구성은 간단히만 (상세는 섹션 3에)

**예시**:
```markdown
**레이아웃** (상단 → 하단 순서):

1. **응모센터 영역**
2. **배터리 충전 상태 영역**
3. **출석 체크 영역**
   - 3개 버튼: 1차 / 2차 / 3차
4. **콘텐츠 영역**
   - 카드 (가로 스크롤)
   - [전체 콘텐츠 보기] 버튼
```

##### 3. 구성 요소 상세
- 각 영역의 상세 UI 구성 작성
- 공통 레이아웃(글로벌 헤더, 바텀 네비게이션)은 제외
- 와이어프레임용 시각 정보 중심 + "주요 상호작용/네비게이션"은 간단히 표기(예: 버튼 탭 시 내비게이션 목적지). 상세 흐름/분기는 사용자 흐름 문서에 작성.
- 상태가 있는 경우 상태별로 구분

**예시**:
```markdown
### 1) 응모센터 영역
- 제목: "주인공은 바로 나!"
- 상품 2개 썸네일 (가로 배치)

### 2) 배터리 충전 상태 영역
**충전 중 상태**:
- 배터리 아이콘 (애니메이션)
- 텍스트: "충전 중!"
- 카운트다운

**충전 안 함 상태**:
- 배터리 아이콘 (비활성)
- 텍스트: "충전하면 에너지가 쌓여요"
```

---

#### 📝 작성 순서

1. 섹션 3(공통 레이아웃) 완료
2. 핵심 화면부터 우선순위 결정
3. 화면 하나씩 작성 (`outputs/docs/screens/` 폴더에 파일 생성)
4. 작성 완료 후 섹션 4 테이블의 "화면정의" 컬럼에 링크 추가
5. 모든 화면정의 완료 후 Lo-fi 와이어프레임으로 진행

---

#### ✅ 작성 팁

**위치와 파일명**:
- **위치**: `outputs/docs/screens/`
- **파일명**: 라우트 기반 권장 (`/content/card` → `content-card.md`) 또는 간명한 이름 (`home.md`)

**작성 절차 (한 화면)**:
1. `outputs/docs/04-화면설계.md` 섹션 4에서 대상 화면 선택
2. 템플릿으로 파일 생성 → 내용 채우기 (수치 금지, 정책 링크)
3. 섹션 4 테이블의 해당 행에 "화면정의" 링크 추가
4. 리뷰/승인 후 다음 화면으로 진행

---

#### ❌ 금지 사항

- 여러 화면정의를 한 번에 생성/제출
- 정책 숫자/제한을 화면정의에 직접 기재
- API/에러/디자인 스펙 상세 (각 문서에 분리)

---

#### 🔎 품질 체크

- [ ] 목적이 1문장으로 명확한지
- [ ] 진입점/이탈점이 명시되었는지
- [ ] 공통 레이아웃 적용 여부가 표시되었는지
- [ ] 상태별 뷰 또는 구성 요소가 상세히 작성되었는지 (상단→하단 순서)
- [ ] UI 요소가 와이어프레임 그리기에 충분한지

---

### 6. Lo-fi 와이어프레임

**Q. 화면 배치와 상태별 화면은?**

**저장 위치**: `outputs/design/wireframes/`

**⚠️ CRITICAL - 섹션 8로 넘어가기 전 필수 완료**:
- Lo-fi 와이어프레임은 **섹션 7에서 반드시 멈춰야** 합니다.
- AI는 와이어프레임을 제작할 수 없으므로, **사용자가 직접 제작**해야 합니다.
- 와이어프레임 없이 섹션 7-11을 작성하면 **재작업**이 필요합니다.

**제작 도구**:
- **Figma** (추천 - 협업 용이)
- **Draw.io** (무료)
- **Excalidraw** (온라인, 빠름)
- **손그림 + 사진** (가장 빠름)

**포함할 것**:
- 박스 + 텍스트
- 주요 요소 위치
- 버튼/CTA 위치
- **모든 상태**: 기본, 로딩, 빈 상태, 오류

**포함하지 말 것**:
- 실제 색상 (회색조만)
- 폰트 스타일
- 아이콘 디테일

**제작 프로세스**:
1. AI가 섹션 1-6 완료
2. AI가 섹션 7 도달 → **STOP**
3. AI가 "Lo-fi 와이어프레임 제작이 필요합니다" 알림
4. **사용자가 와이어프레임 제작** (Figma/Draw.io/손그림)
5. 사용자가 AI에게 링크 제공
6. AI가 섹션 7 업데이트
7. AI가 섹션 8-12 계속 작성

**예시**:
```markdown
## 7. Lo-fi 와이어프레임

**저장 위치**: `outputs/design/wireframes/`

### 홈 화면
- 기본: https://www.figma.com/file/xxxxx
- 로딩: https://www.figma.com/file/xxxxx
- 빈 상태: https://www.figma.com/file/xxxxx
- 오류: https://www.figma.com/file/xxxxx

### 콘텐츠 목록
- 기본: https://www.figma.com/file/xxxxx
- 빈 상태: https://www.figma.com/file/xxxxx
```

---

### 7. 상태 & 예외 처리

**Q. 로딩/빈/오류는? 예외 상황은 어떻게?**

**상태 (모든 화면 공통)**:
- 로딩: 스켈레톤 또는 "로딩 중..."
- 빈 상태: 안내 문구 + CTA
- 오류: 재시도 버튼 + 고객센터 링크

**예외 상황 표**:

| 상황 | 처리 방법 |
|---|---|
| 품절 | 버튼 비활성 + "품절" 배지 표시 |
| 한도 초과 | 안내 다이얼로그 + 리셋 시각 표시 |
| 광고 실패 | 재시도 안내 또는 바로 진입 |
| 충전 감지 실패 | 안내 문구 + 문의 링크 |
| 중복 클릭 | 버튼 로딩/비활성 |

**모달/팝업 정의**:
- 라우트가 없는 모달/팝업은 여기서 정의
- 예: 온보딩 팝업, 확인 다이얼로그, 레벨 선택 팝업

| 모달명 | 트리거 | 액션 | 메모 |
|---|---|---|---|
| 콘텐츠 온보딩 | 각 콘텐츠 첫 진입 (1일 1회) | "시작하기" 버튼 | 콘텐츠별 설명 |
| 레벨 선택 | 레벨 완료 시 | "계속" / "그만하기" | 레벨형만 |
| 중단 확인 | 콘텐츠 진행 중 백버튼 | "계속" / "나가기" | 진행 중 데이터 삭제 |

---

### 8. 내비게이션 규칙

**Q. 뒤로가기, 딥링크, 탭 전환은?**


---

### 9. 화면 문구

**Q. 토스트, 다이얼로그 문구는?**


---

### 10. 분석 이벤트

**Q. 어디서 어떤 이벤트를 보낼까?**

**표 형식**:

| 이벤트명 | 트리거 (어디서) | 목적 |
|---|---|---|
| `home_view` | 홈 화면 진입 | 화면 조회 |
| `attendance_click` | 출석 버튼 클릭 | CTA 클릭율 |
| `content_start` | 콘텐츠 시작 | 참여율 |
| `store_purchase` | 구매 완료 | 전환 추적 |

---

### 11. 승인 기준 (Gate A)

**체크리스트**:

- [ ] 사용자 흐름 5-10개 작성 (섹션 2)
- [ ] 화면 목록 및 라우트 정의 (섹션 3)
- [ ] 공통 레이아웃 정의 (섹션 4)
- [ ] 핵심 화면정의 작성 (섹션 5)
- [ ] Lo-fi 와이어프레임 완성 (기본+상태) (섹션 6)
- [ ] 예외 상황 표 작성 (섹션 7)
- [ ] 내비게이션 규칙 명시 (섹션 8)
- [ ] 화면 문구 초안 작성 (섹션 9)
- [ ] 분석 이벤트 위치 표기 (섹션 10)
- [ ] PRD/서비스정책과 충돌 없음

---

## 💡 작성 팁

### DO (해야 할 것)
✅ 사용자 흐름부터 작성 (사용자가 뭘 하는지)
✅ 화면 구조(IA)로 계층 정의 (어떻게 구성되는지)
✅ 화면 목록표로 전체 파악 (모든 화면 나열)
✅ 화면별 구성표를 중심으로 (가장 중요)
✅ 모든 상태 (로딩/빈/오류) 정의
✅ 예외 상황을 표로 명시
✅ Lo-fi는 간단하게 (박스+텍스트)

### DON'T (하지 말아야 할 것)
❌ Lo-fi에 색상/폰트 적용 (→ 디자인정책)
❌ API 명세 작성 (→ 개발설계)
❌ 정책 수치 직접 기재 (→ 서비스정책)

---

## 🎨 도구 추천

**Lo-fi 와이어프레임**:
- **Figma**: 협업 용이, 추천
- **Draw.io**: 무료, 간단
- **Excalidraw**: 온라인, 빠름
- **손그림**: 가장 빠름

---

## 🔄 정책서와 연계

화면설계 중 새로운 정책 발견 시:
1. `03-서비스정책.md` 업데이트
2. 화면별 구성표 "정책 힌트" 컬럼에 참조 표시

---

## 🚀 다음 단계

**Gate A 통과 후**:
→ `05-디자인정책.md` 작성 (Hi-fi 디자인)
→ `06-개발설계.md` 병행 가능

**관련 문서**:
- `02-PRD.md` - 요구사항 확인
- `03-서비스정책.md` - 정책 참조
- `05-디자인정책.md` - 다음 단계
