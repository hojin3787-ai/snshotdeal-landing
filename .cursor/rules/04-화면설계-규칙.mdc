---
alwaysApply: false
---
# 04-화면설계 규칙 v2

## 정의
- 파일: `outputs/docs/04-화면설계.md`
- 목적: 사용자 흐름, 화면 구조, 화면정의, Lo‑fi 와이어프레임 정리
- 선행조건: `02-PRD.md` 승인, `03-서비스정책.md` 초안(C1)

## 진행 원칙(공통 규칙 상속)
- 한 섹션씩 진행(C5).
- 수치/제한 금지(C3), 정책은 링크로만 참조.
- 문서 본문에 체크포인트/진행 멘트 삽입 금지.

## 섹션(요약)
1) 목적 & 범위
2) 사용자 흐름(테이블 + 개별 플로우 파일 링크)
3) 공통 레이아웃(글로벌 헤더/타이틀/바텀탭)
4) 화면 목록(라우트/링크)
5) 화면정의(인덱스+작성 가이드)
6) Lo‑fi 와이어프레임(Gate A)
7) 상태 & 예외
8) 내비게이션 규칙(뒤로/딥링크/탭)
9) UI 카피 초안(토스트/다이얼로그)
10) 분석 이벤트 위치
11) 승인 기준(Gate A 체크리스트)

## Lo‑fi 게이트(Gate A)
- 섹션 6 도달 시 와이어프레임 링크가 있어야 7–11로 진행.
- AI는 와이어프레임을 제작하지 않음 → 사용자 링크 수신까지 대기.

## 역할 분리(충돌 해소)
- 사용자 흐름 파일(`outputs/design/user_flow/*.md`): 흐름 로직/분기만(정책 수치 금지).
- 화면정의: UI 구조 + "주요 상호작용/네비게이션"은 간단히 명시 가능(예: "에너지 클릭 → 에너지 내역 화면"). 상세 흐름은 사용자 흐름 문서에서.

## 화면정의(개별 파일) 작성 규칙
- 위치: `outputs/docs/screens/*.md` (한 화면=한 파일, 라우트 기반 파일명 권장)
- 포함 항목:
  - 화면 개요(이름/라우트/목적/진입·이탈/공통 레이아웃 표시여부)
  - 화면 구성(상단→하단 영역 나열)
  - 구성요소 상세(상태별 시각 요소, 간단 상호작용/네비게이션)
  - 분석 이벤트(이벤트명/트리거/목적)
  - 정책 참조 문구(서비스정책 링크)
- 작성 시 즉시 `04-화면설계.md`의 화면 목록 테이블에 링크 추가.

## 라우트/목록 규칙(요약)
- 라우트 있는 화면만 목록에 포함(모달/팝업은 예외/상태 섹션에서 정의).
- 한 UI 컨테이너=한 라우트(상태 전환 포함). 딥링크/공유 필요 시만 별도 라우트.

## 체크리스트(요약)
- [ ] 사용자 흐름 5–10개 작성 및 링크
- [ ] 화면 목록(라우트/링크) 완성
- [ ] 핵심 화면 화면정의 파일 생성 + 목록에 링크 반영
- [ ] 상태/예외 테이블 정리
- [ ] 뒤로/딥링크/탭 규칙 서술
- [ ] UI 카피/분석 이벤트 위치 기재
- [ ] Lo‑fi 링크 확인(Gate A)

## 관련
- 사용자 가이드: `guide/04-화면설계-가이드.md`
- 정책 문서: `outputs/docs/03-서비스정책.md`
- 다음 문서: `outputs/docs/05-디자인정책.md`
